{
  "version": 3,
  "sources": ["../../../src/cryptography/intent.ts"],
  "sourcesContent": ["// Copyright (c) Mysten Labs, Inc.\n// Modifications Copyright (c) 2024 IOTA Stiftung\n// SPDX-License-Identifier: Apache-2.0\n\nimport { bcs } from '../bcs/index.js';\n\nexport type IntentScope = Exclude<keyof typeof bcs.IntentScope.$inferType, '$kind'>;\n/**\n * Inserts a domain separator for a message that is being signed\n */\nexport function messageWithIntent(scope: IntentScope, message: Uint8Array) {\n    return bcs\n        .IntentMessage(bcs.fixedArray(message.length, bcs.u8()))\n        .serialize({\n            intent: {\n                scope: { [scope as 'PersonalMessage']: true },\n                version: { V0: true },\n                appId: { Iota: true },\n            },\n            value: message,\n        })\n        .toBytes();\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA,iBAAoB;AAMb,SAAS,kBAAkB,OAAoB,SAAqB;AACvE,SAAO,eACF,cAAc,eAAI,WAAW,QAAQ,QAAQ,eAAI,GAAG,CAAC,CAAC,EACtD,UAAU;AAAA,IACP,QAAQ;AAAA,MACJ,OAAO,EAAE,CAAC,KAA0B,GAAG,KAAK;AAAA,MAC5C,SAAS,EAAE,IAAI,KAAK;AAAA,MACpB,OAAO,EAAE,MAAM,KAAK;AAAA,IACxB;AAAA,IACA,OAAO;AAAA,EACX,CAAC,EACA,QAAQ;AACjB;",
  "names": []
}
